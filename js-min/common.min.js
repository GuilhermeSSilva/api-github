function limpaSection(){$("[data-section]").text("")}function validaClick(usuario){return""!=usuario}function criaLista(response){const section=$("[data-section]"),usuario=response,img=$("<img>").attr("src",usuario.avatar_url).attr("style","width:200px;").addClass("img-thumbnail").attr("alt","Imagem do usuário pesquisado").attr("title","Imagem do usuário pesquisado"),nome=$("<u>").text(usuario.login).addClass("font-weight-bold align-middle"),seguidores=$("<u>").text(`Seguidores:${usuario.followers}`).addClass("font-weight-bold");listaUsuario(section,usuario,$("<div>").addClass("mx-auto d-flex justify-content-center justify-content-sm-around flex-wrap"),img,nome,seguidores)}function listaUsuario(section,usuario,div,img,nome,seguidores){const nomeUser=usuario.login,divBio=$("<div>").addClass("text-center"),conteudoBio=usuario.bio,divBotoes=$("<div>").addClass("text-center"),botaoRepos=$("<button>").attr("onclick",`buscaPortifolioSessionStorage('${nomeUser}','Repositório')`).text("Repositórios").addClass("btn btn-outline-primary"),botaoStarred=$("<button>").attr("onclick",`buscaPortifolioSessionStorage('${nomeUser}','Starred')`).text("Starred").addClass("btn btn-outline-success");div.append(img),div.append(nome),div.append(seguidores),divBio.append(conteudoBio),divBotoes.append(botaoRepos),divBotoes.append(botaoStarred),section.append(div),section.append(divBio),section.append(divBotoes)}function listaPortifolio(tbody,nome){const section=$("[data-section]");limpaDiv($(".repositorio"));const div=$("<div>").addClass("repositorio"),label=$("<label>").attr("for","filtraRepositorio").text("Filtrar Repositório:"),inputText=$("<input>").attr("id","filtraRepositorio").attr("type","text").attr("onfocus","filtrarRepositorio()"),table=$("<table>").addClass("table table-striped table-dark"),titulo=$("<h2>").text(`${nome}:`);div.append(titulo),div.append(label),div.append(inputText),section.append(div),table.append(tbody),div.append(table),removeLoad(),section.append(div)}function buscaPortifolioSessionStorage(usuario,nome){adicionaLoad();const user=JSON.parse(sessionStorage.getItem(usuario.toLowerCase()));if("Repositório"==nome)if(0!=user.repositorio.length){const tbody=$("<tbody>");let i=1;user.repositorio.forEach(element=>{const linkFuncional=`https://www.${element.git_url.substr(6)}`,tr=$("<tr>"),th=$("<th>").text(i).attr("scope","row"),td=$("<td>"),link=$("<a>").attr("href",`${linkFuncional}`).attr("target","_blank").text(`${element.full_name}`).addClass("nome");td.append(link),tr.append(th),tr.append(td),tbody.append(tr),i++}),listaPortifolio(tbody,nome)}else semResultado();else if(0!=user.starred.length){const tbody=$("<tbody>");let i=1;user.starred.forEach(element=>{const linkFuncional=`https://www.${element.git_url.substr(6)}`,tr=$("<tr>"),th=$("<th>").text(i).attr("scope","row"),td=$("<td>"),link=$("<a>").attr("href",`${linkFuncional}`).attr("target","_blank").text(`${element.full_name}`).addClass("nome");td.append(link),tr.append(th),tr.append(td),tbody.append(tr),i++}),listaPortifolio(tbody,nome)}else semResultado()}function buscaPortifolio(url,nome){adicionaLoad(),fetch(url).then(resolve=>resolve.json()).catch(resolve=>resolve.ok?resolve.json():new Promise.reject("Erro de conexão")).then(json=>{if(void 0!=json.items&&(json=json.items),0==json.length)semResultado();else{const tbody=$("<tbody>");let i=1;json.forEach(element=>{const linkFuncional=`https://www.${element.git_url.substr(6)}`,tr=$("<tr>"),th=$("<th>").text(i).attr("scope","row"),td=$("<td>"),link=$("<a>").attr("href",`${linkFuncional}`).attr("target","_blank").text(`${element.full_name}`).addClass("nome");td.append(link),tr.append(th),tr.append(td),tbody.append(tr),i++}),removeLoad(),listaPortifolio(tbody,nome)}})}function criaErro(textoMensagem){const mensagem=$("<p>").text(textoMensagem).addClass("text-center text-danger font-weight-bold");$("[data-section]").append(mensagem)}function semResultado(){const section=$("[data-section]");removeLoad(),limpaDiv($(".repositorio"));const div=$("<div>").addClass("repositorio"),mensagem=$("<p>").text("Erro 404 Nenhum resultado encontrado").addClass("text-danger font-weight-bold");div.append(mensagem),section.append(div)}function limpaDiv(div){div.remove()}function adicionaLoad(){const section=$("[data-section]");limpaDiv($(".repositorio"));const div=$("<div>").addClass("repositorio"),loadingIMG=$("<img>").attr("src","../assets/icon/200.gif").addClass("load");div.append(loadingIMG),section.append(div)}function removeLoad(){$(".load").remove()}